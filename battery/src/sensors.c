//****************************************************************************
// MIT Media Lab - Biomechatronics
// Jean-Francois (Jeff) Duval
// jfduval@mit.edu
// 03/2015
//****************************************************************************
// sensors: sensor data acquisition, conversion and filtering
//****************************************************************************

//****************************************************************************
// Include(s)
//****************************************************************************

#include "main.h"
#include "sensors.h"

//****************************************************************************
// Variable(s)
//****************************************************************************

int16 adc_res[ADC_CHANNELS];

//****************************************************************************
// Function(s)
//****************************************************************************

//VB_SNS: Battery voltage sensing. Return value encoded in 1 byte.
//Formula is tmp = ((3*(adc-min_adc))>>4); tmp represents 10<VB<55, 175mV/tick.
uint8 read_vb(void)
{
	int32 tmp = 0;
	//tmp = (CONV_VB_A*(adc_res[ADC_VB] - CONV_VB_B))>>CONV_VB_C;	//ToDo update
	return((uint8)tmp);
}