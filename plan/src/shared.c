//****************************************************************************
// MIT Media Lab - Biomechatronics
// Jean-Francois (Jeff) Duval
// jfduval@mit.edu
// 04/2015
//****************************************************************************
// shared: Code shared by Test, Demo, User functions, etc.
//****************************************************************************

//****************************************************************************
// Include(s)
//****************************************************************************

#include "main.h"
#include "shared.h"

//****************************************************************************
// Local variable(s)
//****************************************************************************

//****************************************************************************
// Private Function Prototype(s):
//****************************************************************************


//****************************************************************************
// Function(s)
//****************************************************************************

void braking_sequence(int cycles, int delay)
{
	int i = 0, numb = 0;

	for(i = 0; i < cycles; i++)
	{
		numb = tx_cmd_ctrl_o_write(FLEXSEA_EXECUTE_1, -400);
		flexsea_send_serial_slave(PORT_SPI, comm_str_spi, numb);
		usleep(delay);
		numb = tx_cmd_ctrl_o_write(FLEXSEA_EXECUTE_1, 0);
		flexsea_send_serial_slave(PORT_SPI, comm_str_spi, numb);
		usleep(delay);
	}
}
